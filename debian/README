this is a typical configuration for a https server in nginx.conf style:

server {
 listen              *:443 ssl;
 server_name         www.example;
 ssl_certificate     cert.pem
 ssl_certificyte_key key.pem
 
 location / {
  root /path/to/htdocs/;
 }
}

To configure this server as doh-server, add two lines to that block:

 set $resolver 8.8.8.8;
 include /usr/share/doh101/doh101.inc;

restart nginx and monitor your error.log while testing:

# doh-client https://www.example/dns-query github.com NS
